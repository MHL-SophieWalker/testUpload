import 'package:flutter/material.dart';
import 'package:hart_suite/helpers/class/enums_help.dart';
import 'package:hart_suite/helpers/ui/filter_help.dart';
import 'package:hart_suite/models/general/filter.dart';
import 'package:hart_suite/models/profile/person.dart';
import 'package:hart_suite/widgets/cards/actions_card.dart';

class AppCardHelper {
  static List<Widget> getFilteredAppCards(List<Filter> filters, Person user, bool expanded) {
    List<Widget> filteredAppCards = List.empty(growable: true);

    if (FilterHelp.isFilterSelected(EnumsHelp.disciplineAll, filters) || FilterHelp.isFilterSelected(EnumsHelp.disciplineSafety, filters)) {
      filteredAppCards.add(ActionsCard(user: user, expanded: expanded));
    }

    return filteredAppCards;
  }
}
