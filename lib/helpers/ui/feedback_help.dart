import 'package:flutter/material.dart';
import 'package:hart_suite/error_handler.dart';
import 'package:hart_suite/style/style_base.dart';

class FeedbackHelp {
  /// Show a snackbar with a message.
  /// If error is true, the message will be displayed in red.
  /// If exception is not null, the error will be logged.
  static void showSnackbar(
      {required BuildContext context,
      required String message,
      bool error = false,
      dynamic exception,
      StackTrace? stackTrace,
      Iterable<Object> details = const [],
      int seconds = 2}) {
    ScaffoldMessenger.of(context).showSnackBar(
      StyleBase.getSnackBar(message: message, isError: error, seconds: seconds),
    );

    if (error && exception != null) {
      ErrorHandler.logError(exception: exception, stack: stackTrace, information: details);
    }
  }
}
