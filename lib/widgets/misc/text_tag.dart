import 'package:flutter/material.dart';

class TextTag extends StatelessWidget {
  const TextTag({super.key, required this.color, required this.text, required this.textColor});

  final Color color, textColor;
  final String text;

  @override
  Widget build(BuildContext context) {
    return ClipRRect(
      borderRadius: BorderRadius.circular(25),
      child: Container(
        color: color,
        child: Padding(
          padding: const EdgeInsets.fromLTRB(8, 2, 8, 2),
          child: Text(
            text.toUpperCase(),
            style: TextStyle(color: textColor),
          ),
        ),
      ),
    );
  }
}
